CREATE TABLE public.users (id UUID PRIMARY KEY DEFAULT gen_random_uuid(), email TEXT UNIQUE NOT NULL, created_at TIMESTAMPTZ DEFAULT NOW(), updated_at TIMESTAMPTZ DEFAULT NOW()); ALTER TABLE public.users ENABLE ROW LEVEL SECURITY; CREATE POLICY "Users can view own profile" ON public.users FOR SELECT USING (auth.uid() = id); CREATE POLICY "Users can update own profile" ON public.users FOR UPDATE USING (auth.uid() = id); CREATE INDEX idx_users_email ON public.users(email);